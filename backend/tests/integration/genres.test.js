// const request = require("supertest")
// let server;
// describe('/api/genres', ()=>{
//     beforeEach(async()=> {server = require("../../main.js")
//     describe("GET/", async()=>{
//         it('should return all genres', async()=>{
//             await Genre.collection.insertMany([
//                 {name: 'genre1'},
//                 {name: 'genre2'}
//             ])
//             const res = await request(server).get("/api/genres")
//                 expect(res.status).toBe(200)
//                 expect(res.body.length).toBe(2);
//         })
//     })
// });
//     afterEach(async()=> { server.close() })
    
// })